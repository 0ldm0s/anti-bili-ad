# B站推荐过滤

给B站不可屏蔽的推荐内容（直播、番剧等）添加"不感兴趣"功能。

## 功能

- 自动识别B站首页上没有"不感兴趣"按钮的推荐卡片
- 给这些卡片添加自定义的屏蔽按钮
- 点击屏蔽后，该内容会被记录到本地黑名单
- 以后访问时会自动隐藏黑名单中的内容
- 可在扩展设置中管理黑名单

## 安装方法

1. 准备图标文件（可选）：
   - 在 `icons/` 目录下放置 `icon16.png`、`icon48.png`、`icon128.png`
   - 或暂时忽略图标，扩展仍可正常使用

2. 加载扩展到Chrome：
   - 打开 Chrome，访问 `chrome://extensions/`
   - 开启右上角的"开发者模式"
   - 点击"加载已解压的扩展程序"
   - 选择本项目目录

3. 刷新B站首页 (bilibili.com)

## 使用方法

1. 访问B站首页
2. 找到直播、番剧等不可屏蔽的推荐卡片
3. 鼠标悬停在卡片上，右上角会出现一个屏蔽按钮（X图标）
4. 点击按钮即可将该内容加入黑名单
5. 下次访问时，该内容会被自动隐藏

## 管理黑名单

- 点击浏览器工具栏中的扩展图标
- 查看已过滤的内容列表
- 可以单独移除某条过滤规则
- 也可以一键清空所有黑名单

## 文件结构

```
anti-bili-ad/
├── manifest.json    # 扩展配置文件
├── content.js       # 核心过滤逻辑
├── content.css      # 注入页面的样式
├── popup.html       # 设置页面HTML
├── popup.js         # 设置页面脚本
├── popup.css        # 设置页面样式
├── icons/           # 扩展图标（需要自行添加）
└── README.md        # 本文件
```

## 技术实现

- 使用 MutationObserver 监听页面动态加载的内容
- 通过 `.floor-single-card` 选择器识别不可屏蔽的卡片
- 使用 chrome.storage.local API 持久化存储黑名单
- 按卡片类型+标题+URL生成唯一标识符

## 待完善功能

- [ ] 支持按关键词批量过滤
- [ ] 支持按UP主过滤
- [ ] 导入/导出黑名单
- [ ] 过滤统计功能
